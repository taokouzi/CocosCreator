{"version":3,"sources":["giftList.js"],"names":["cc","Class","extends","Component","properties","gf_img","Node","gf_name","Label","task_id","start","init","data","that","gf_status","loader","loadRes","SpriteFrame","err","spriteFrame","getComponent","Sprite","string","gf_id","giveGfFunc","log"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;;AAERC,gBAAQL,GAAGM,IAFH;AAGRC,iBAASP,GAAGQ,KAHJ;;AAKRC,iBAAS;AALD,KAHP;;AAaLC,SAbK,mBAaI,CAER,CAfI;;;AAiBJC,UAAK,cAAUC,IAAV,EACN;AACI,YAAIC,OAAO,IAAX;AACA;;AAEA;AACA,YAAID,KAAKE,SAAL,IAAkB,GAAtB,EACA;AACId,eAAGe,MAAH,CAAUC,OAAV,CAAkB,sBAAlB,EAA0ChB,GAAGiB,WAA7C,EAA0D,UAAUC,GAAV,EAAeC,WAAf,EAC1D;AACIN,qBAAKO,YAAL,CAAkBpB,GAAGqB,MAArB,EAA6BF,WAA7B,GAA2CA,WAA3C;AACH,aAHD;AAIH;AACD;AAPA,aAQK,IAAIP,KAAKE,SAAL,IAAkB,GAAtB,EACL;AACId,mBAAGe,MAAH,CAAUC,OAAV,CAAkB,qBAAlB,EAAyChB,GAAGiB,WAA5C,EAAyD,UAAUC,GAAV,EAAeC,WAAf,EACzD;AACIN,yBAAKO,YAAL,CAAkBpB,GAAGqB,MAArB,EAA6BF,WAA7B,GAA2CA,WAA3C;AACH,iBAHD;AAIH;AACD;AAPK,iBAQA,IAAIP,KAAKE,SAAL,IAAkB,GAAtB,EACL;AACId,uBAAGe,MAAH,CAAUC,OAAV,CAAkB,sBAAlB,EAA0ChB,GAAGiB,WAA7C,EAA0D,UAAUC,GAAV,EAAeC,WAAf,EAC1D;AACIN,6BAAKO,YAAL,CAAkBpB,GAAGqB,MAArB,EAA6BF,WAA7B,GAA2CA,WAA3C;AACH,qBAHD;AAIH;AACD;;AAEAN,aAAKN,OAAL,CAAae,MAAb,GAAsBV,KAAKL,OAA3B;;AAGAM,aAAKJ,OAAL,GAAeG,KAAKW,KAApB;AAEH,KArDI;;AAwDL;AACAC,gBAAW,sBACX;AACIxB,WAAGyB,GAAH,CAAO,KAAP;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH;;AAKD;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AA9GK,CAAT","file":"giftList.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\StickHero\\Scripts","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n        gf_img: cc.Node,\r\n        gf_name: cc.Label,\r\n\r\n        task_id: null,\r\n    },\r\n\r\n\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n     init:function( data )\r\n    {   \r\n        var that = this;\r\n        // gf_status 1达成条件未领取 2已领取 3锁定\r\n        \r\n        // 未领取\r\n        if( data.gf_status == '1' )\r\n        {\r\n            cc.loader.loadRes('page_img/jiangba.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {\r\n                that.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n        }\r\n        // 已领取\r\n        else if( data.gf_status == '2' )\r\n        {\r\n            cc.loader.loadRes('page_img/jiangb.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {\r\n                that.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n        }\r\n        // 锁定\r\n        else if( data.gf_status == '3' )\r\n        {\r\n            cc.loader.loadRes('page_img/jiangbb.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {\r\n                that.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n        }\r\n        // cc.log(data);\r\n\r\n        that.gf_name.string = data.gf_name;\r\n\r\n\r\n        that.task_id = data.gf_id;\r\n\r\n    },\r\n\r\n\r\n    // 领取奖品（废弃）\r\n    giveGfFunc:function()\r\n    {\r\n        cc.log('000');\r\n        // var that = this;\r\n        // cc.log(that.task_id);\r\n\r\n\r\n        // cc.log(that.gf_img.parent.parent.parent.parent.parent);\r\n        \r\n\r\n        // that.ajaxPostFun(\r\n        //     Win_Global.path+'/task.php?action=task_prize',\r\n        //     'token='+Win_Global.token+'&task_id='+that.task_id,\r\n        //     function(res)\r\n        //     {\r\n        //         console.log(res);\r\n        //         if( res.code == 1 )\r\n        //         {\r\n        //             Alert.show(\"领取成功！\", null, false, 0.1);\r\n        //         }\r\n        //         else if( res.code == 9004 )\r\n        //         {\r\n        //             that.gf_img.parent.parent.parent.parent.parent.getChildByName('telLayer').active = true;\r\n        //             // Alert.show(\"未绑定手机号\", null, false, 0.1);\r\n        //         }\r\n        //     }\r\n        // );\r\n\r\n    },\r\n\r\n\r\n\r\n\r\n    // ajaxPostFun:function(ServerLink,str,callback) {\r\n  \r\n    //     var xhr = new XMLHttpRequest();\r\n        \r\n    //     xhr.open(\"POST\", ServerLink);\r\n\r\n    //     xhr.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\r\n\r\n\r\n    //     xhr.send(str);\r\n\r\n    //     xhr.onreadystatechange = function ()\r\n    //     {\r\n    //         if (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status <= 207)) \r\n    //         {   \r\n    //             var result = JSON.parse(xhr.responseText);\r\n        \r\n    //             callback(result);\r\n    //         }\r\n    //     };\r\n    // } \r\n\r\n    \r\n});\r\n"]}