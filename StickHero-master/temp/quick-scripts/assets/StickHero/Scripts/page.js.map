{"version":3,"sources":["page.js"],"names":["Alert","_alert","_detailLabel","_cancelButton","_enterButton","_enterCallBack","_animSpeed","show","detailString","enterCallBack","needCancel","animSpeed","self","undefined","cc","loader","loadRes","Prefab","error","prefab","alert","instantiate","cbFadeOut","callFunc","onFadeOutFinish","cbFadeIn","onFadeInFinish","actionFadeIn","sequence","spawn","fadeTo","scaleTo","actionFadeOut","find","getComponent","Label","on","onButtonClicked","parent","startFadeIn","configAlert","string","active","x","eventManager","pauseTarget","position","p","setScale","opacity","runAction","startFadeOut","resumeTarget","onDestory","event","target","name","destroy","fsm","require","pageF","Class","extends","Component","properties","nav1","Node","nav2","nav3","nav4","nav5","nav6","nav7","nav8","rank","my_rank","gift","bkq","music_btn","myNandu","menuLayer","telLayer","adiLayer","pass_id","diff_id","isGiveRankBkq","isGiveRankBkq_friend","yiny","yinx","bgm","paoAudio","AudioSource","bgAdi","bgAdi_n","gameAdi","onLoad","that","setGoInFunc","Win_Global","isWx","wx","onShow","res","console","log","query","avatarUrl","sys","localStorage","getItem","avatarUrl_name","nickName","nickName_name","RedStar_token","token_name","nickname","login","success","code","ajaxPost","path","setItem","data","token","fail","button","createUserInfoButton","type","text","image","style","left","top","width","height","lineHeight","backgroundColor","color","textAlign","fontSize","borderRadius","onTap","e","userInfo","setLvPositionFunc","showToast","title","icon","showUserRankDataFunc","Math","floor","random","cbk_nav","EventType","TOUCH_START","stopPropagation","musicAudioPause","SpriteFrame","err","spriteFrame","Sprite","musicAudioPlay","toggleBgAdiFunc","toggleGameAdiFunc","musicAudioPlay2","audioEngine","play","pause","musicAudioPause2","isPlaying","animationComFunc","fadeIn","moveTo","startChangzhengLenFunc","game_status","director","loadScene","restart","startChangzhengLvFunc","clcikGoToRuleFunc","showRuleGiftInfoFunc","clickMadeAdiFunc","showLoading","getChildByName","lvPositionArr","Array","i","lv","y","load","url","texture","score","myMaxLv","pass_num","mySelectLv","repeatForever","hideLoading","tel","selectLvFunc","customEventData","setNanduShowFunc","rankFunc","userFunc","showUserGiftInfoFunc","selectNanduChildArr","children","Color","diff_num","length","is_lock","selectNanduFunc","nandu_id","layerText","status","rankDestroy","obj","action","img_path_active","img_path","btn_active","btn","rand","node","scene","setPosition","init","head_img","rank_n","rank_name","rank_cj","rank_status","addChild","my_rand","goToMyGiftFunc","bkqGoToRuleGiftInfoFunc","beike","task","gf_status","gf_num","task_beike","gf_name","task_name","gf_id","id","one","prize","friends","giveBkqFunc","btn_status","Date","parse","toString","substr","getCodeFunc","EditBox","codeBtnLabel","get_code","submitTelFunc","bind_tel","goToGameFunc","callbackFunc","rank_arr","time","setTimeout","page","module","exports"],"mappings":"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","file":"page.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\StickHero\\Scripts","sourcesContent":["\r\nvar Alert = {\r\n    _alert: null,           // prefab\r\n    _detailLabel:   null,   // 内容\r\n    _cancelButton:  null,   // 确定按钮\r\n    _enterButton:   null,   // 取消按钮\r\n    _enterCallBack: null,   // 回调事件\r\n    _animSpeed:     0.3,    // 动画速度\r\n};\r\n\r\n/**\r\n * detailString :   内容 string 类型.\r\n * enterCallBack:   确定点击事件回调  function 类型.\r\n * neeCancel:       是否展示取消按钮 bool 类型 default YES.\r\n * duration:        动画速度 default = 0.3.\r\n*/\r\nAlert.show = function (detailString, enterCallBack, needCancel, animSpeed) {\r\n\r\n    // 引用\r\n    var self = this;\r\n\r\n    // 判断\r\n    if (Alert._alert != undefined) return;\r\n\r\n    // \r\n    Alert._animSpeed = animSpeed ? animSpeed : Alert._animSpeed;\r\n\r\n    // 加载 prefab 创建\r\n    cc.loader.loadRes(\"Alert\", cc.Prefab, function (error, prefab) {\r\n\r\n        if (error) {\r\n            cc.error(error);\r\n            return;\r\n        }\r\n\r\n        // 实例 \r\n        var alert = cc.instantiate(prefab);\r\n\r\n        // Alert 持有\r\n        Alert._alert = alert;\r\n\r\n        // 动画 \r\n        var cbFadeOut = cc.callFunc(self.onFadeOutFinish, self);\r\n        var cbFadeIn = cc.callFunc(self.onFadeInFinish, self);\r\n        self.actionFadeIn = cc.sequence(cc.spawn(cc.fadeTo(Alert._animSpeed, 255), cc.scaleTo(Alert._animSpeed, 1.0)), cbFadeIn);\r\n        self.actionFadeOut = cc.sequence(cc.spawn(cc.fadeTo(Alert._animSpeed, 0), cc.scaleTo(Alert._animSpeed, 1.2)), cbFadeOut);\r\n\r\n        // 获取子节点\r\n        Alert._detailLabel = cc.find(\"alertBackground/detailLabel\", alert).getComponent(cc.Label);\r\n        Alert._cancelButton = cc.find(\"alertBackground/cancelButton\", alert);\r\n        Alert._enterButton = cc.find(\"alertBackground/enterButton\", alert);\r\n\r\n        // 添加点击事件\r\n        Alert._enterButton.on('click', self.onButtonClicked, self);\r\n        Alert._cancelButton.on('click', self.onButtonClicked, self);\r\n\r\n        // 父视图\r\n        Alert._alert.parent = cc.find(\"Canvas\");\r\n\r\n        // 展现 alert\r\n        self.startFadeIn();\r\n\r\n        // 参数\r\n        self.configAlert(detailString, enterCallBack, needCancel, animSpeed);\r\n        \r\n    });\r\n\r\n    // 参数\r\n    self.configAlert = function (detailString, enterCallBack, needCancel, animSpeed) {\r\n\r\n        // 回调\r\n        Alert._enterCallBack = enterCallBack;\r\n\r\n        // 内容\r\n        Alert._detailLabel.string = detailString;\r\n        // 是否需要取消按钮\r\n        if (needCancel || needCancel == undefined) { // 显示\r\n            Alert._cancelButton.active = true;\r\n        } else {  // 隐藏\r\n            Alert._cancelButton.active = false;\r\n            Alert._enterButton.x = 0;\r\n        }\r\n    };\r\n\r\n    // 执行弹进动画\r\n    self.startFadeIn = function () {\r\n        cc.eventManager.pauseTarget(Alert._alert, true);\r\n        Alert._alert.position = cc.p(0, 0);\r\n        Alert._alert.setScale(1.2);\r\n        Alert._alert.opacity = 0;\r\n        Alert._alert.runAction(self.actionFadeIn);\r\n    };\r\n\r\n    // 执行弹出动画\r\n    self.startFadeOut = function () {\r\n        cc.eventManager.pauseTarget(Alert._alert, true);\r\n        Alert._alert.runAction(self.actionFadeOut);\r\n    };\r\n\r\n    // 弹进动画完成回调\r\n    self.onFadeInFinish = function () {\r\n        cc.eventManager.resumeTarget(Alert._alert, true);\r\n    };\r\n\r\n    // 弹出动画完成回调\r\n    self.onFadeOutFinish = function () {\r\n        self.onDestory();\r\n    };\r\n\r\n    // 按钮点击事件\r\n    self.onButtonClicked = function(event){\r\n        if(event.target.name == \"enterButton\"){\r\n            if(self._enterCallBack){\r\n                self._enterCallBack();\r\n            }\r\n        }\r\n        self.startFadeOut();\r\n    };\r\n\r\n    // 销毁 alert (内存管理还没搞懂，暂且这样写吧~v~)\r\n    self.onDestory = function () {\r\n        Alert._alert.destroy();\r\n        Alert._enterCallBack = null;\r\n        Alert._alert = null;\r\n        Alert._detailLabel = null;\r\n        Alert._cancelButton = null;\r\n        Alert._enterButton = null;\r\n        Alert._animSpeed = 0.3;\r\n    };\r\n};\r\n\r\n\r\n\r\nvar fsm =require(\"landMaker\");\r\n\r\n\r\n\r\n\r\nvar pageF = cc.Class({\r\n\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        \r\n        // 进入页\r\n        nav1: cc.Node,\r\n        // 选择闯关模式\r\n        nav2: cc.Node,\r\n\r\n        // 选择关卡页\r\n        nav3: cc.Node,\r\n        // 选择难度页\r\n        nav4: cc.Node,\r\n        // 排行榜\r\n        nav5: cc.Node,\r\n        // 个人中心（我的奖品页）\r\n        nav6: cc.Node,\r\n        // 规则\r\n        nav7: cc.Node,\r\n        // 游戏前引导页\r\n        nav8: cc.Node,\r\n\r\n        // 排行榜\r\n        rank: cc.Prefab,\r\n        my_rank: cc.Label,\r\n\r\n\r\n        // 奖品列表克隆（展示等级  user）\r\n        gift: cc.Prefab,\r\n\r\n        // 贝壳券奖品克隆 （正宗奖品 rule）\r\n        bkq:  cc.Prefab,\r\n\r\n        // 音乐开关\r\n        music_btn: cc.Node,\r\n\r\n        myNandu: 0,\r\n\r\n\r\n        // 选择难度弹窗\r\n        menuLayer:cc.Node,\r\n\r\n\r\n        // 输入手机号弹窗\r\n        telLayer:cc.Node,\r\n\r\n        // 控制声音弹窗\r\n        adiLayer:cc.Node,\r\n\r\n        // 关卡id\r\n        pass_id: 1,\r\n        // 难度id\r\n        diff_id: 1,\r\n\r\n        // 排行榜贝壳券是否领取  0未领取 1已领取\r\n        isGiveRankBkq: 1,\r\n        isGiveRankBkq_friend: 1,\r\n\r\n\r\n        // 音乐默认开启\r\n        yiny:1,\r\n        // 音效默认开启\r\n        yinx:1,\r\n\r\n        bgm:null,\r\n\r\n\r\n\r\n        // musicAudio2:cc.AudioSource,\r\n\r\n        paoAudio:cc.AudioSource,\r\n\r\n\r\n\r\n        bgAdi:null,\r\n\r\n        bgAdi_n:1,\r\n\r\n\r\n        gameAdi:null,\r\n\r\n    },\r\n\r\n\r\n    onLoad:function(){\r\n\r\n        var that = this;\r\n\r\n        this.setGoInFunc();\r\n\r\n        if( Win_Global.isWx == 1 )\r\n        {   \r\n\r\n        \t// 进入游戏获取share_t参数，绑定好友关系\r\n\t        wx.onShow(function(res){\r\n\t        \t\r\n\t\t\t\tconsole.log(res.query);\r\n\r\n\t\t\t});\r\n\t        \r\n\t        \r\n            var avatarUrl = cc.sys.localStorage.getItem( Win_Global.avatarUrl_name ) || '';\r\n            var nickName =  cc.sys.localStorage.getItem( Win_Global.nickName_name  ) || '';\r\n            var RedStar_token = cc.sys.localStorage.getItem( Win_Global.token_name ) || '';\r\n\r\n            Win_Global.nickname = nickName;\r\n            Win_Global.avatarUrl = avatarUrl;\r\n            \r\n            console.log('nickName = '+nickName + '  ; RedStar_token = '+RedStar_token);\r\n\r\n            // 本地无token，需要置换用户唯一标识 token/unionid\r\n            if( RedStar_token == '' )\r\n            {\r\n                wx.login({\r\n                    success:function(res)\r\n                    {\r\n                        if( res.code )\r\n                        {\r\n                            // console.log('置换code = '+res.code);\r\n\r\n                            Win_Global.ajaxPost(\r\n                                Win_Global.path+'wxLogin.php',\r\n                                {\r\n                                    'code': res.code\r\n                                },\r\n                                function(res)\r\n                                {\r\n                                    // console.log('aaaaaaaaaaaaaaaaaaaaaaaaaaaa');\r\n                                    // console.log(res);\r\n                                    \r\n                                    if( res.code == 1 )\r\n                                    {\r\n                                        cc.sys.localStorage.setItem( Win_Global.token_name ,res.data.token);\r\n                                        Win_Global.token = res.data.token;\r\n                                    }\r\n\r\n                                },function(fail){console.log(fail);},\r\n                                function( error ){console.log(error);}\r\n                            );\r\n\r\n                            \r\n                        }\r\n                    }\r\n                })\r\n            }\r\n\r\n\r\n           if( nickName == '' && avatarUrl == '' )\r\n            {  \r\n\r\n                // 需要授权用户信息（显示授权按钮/透明）\r\n                let button = wx.createUserInfoButton({\r\n                  type: 'text',\r\n                  text: '',\r\n                  image:'',\r\n                  style: {\r\n                    left: 0,\r\n                    top:0,\r\n                    width: 600,\r\n                    height: 6000,\r\n                    lineHeight: 0,\r\n                    backgroundColor: 'transparent',\r\n                    color: '#ffffff',\r\n                    textAlign: 'center',\r\n                    fontSize: 16,\r\n                    borderRadius: 4\r\n                  }\r\n                })\r\n\r\n\r\n                // 点击授权按钮 出现授权弹窗\r\n                button.onTap(function(e){\r\n\r\n                    if( e.userInfo )\r\n                    {   \r\n                        Win_Global.nickname = e.userInfo.nickName;\r\n                        Win_Global.avatarUrl = e.userInfo.avatarUrl;\r\n\r\n                        // 存储用户信息\r\n                        cc.sys.localStorage.setItem( Win_Global.avatarUrl_name ,e.userInfo.avatarUrl);\r\n                        cc.sys.localStorage.setItem( Win_Global.nickName_name ,e.userInfo.nickName);\r\n\r\n                        // 进入游戏\r\n                        that.nav1.active = false;\r\n                        that.nav2.active = true;\r\n                        that.setLvPositionFunc();\r\n\r\n                        button.destroy();\r\n                    }\r\n                    else\r\n                    {\r\n                        wx.showToast({title:'同志您好，进入游戏需要授权哦~',icon:'none'})\r\n                    }\r\n                })\r\n            }\r\n            else\r\n            {   \r\n                cc.find('btn',that.nav1).on('click',function(){\r\n                    // console.log('滚');\r\n                    that.nav1.active = false;\r\n                    that.nav2.active = true;\r\n                    that.setLvPositionFunc();\r\n                })\r\n            }\r\n        }\r\n        else\r\n        {\r\n            cc.find('btn',that.nav1).on('click',function(){\r\n                that.nav1.active = false;\r\n                that.nav2.active = true;\r\n                that.setLvPositionFunc();\r\n            })\r\n        }\r\n\r\n\r\n\r\n        // 排行榜切换\r\n        cc.find('box/btn/rank1',that.nav5).on('click',function(){\r\n            that.showUserRankDataFunc('1');\r\n        })\r\n\r\n        cc.find('box/btn/rank2',that.nav5).on('click',function(){\r\n            that.showUserRankDataFunc('2');\r\n        })\r\n\r\n\r\n\r\n        // 随机背景音乐1-9\r\n        this.bgAdi_n = Math.floor(Math.random()*9+1);\r\n        \r\n\r\n        // 从游戏中回到首页\r\n        if( Win_Global.cbk_nav == 1 )\r\n        {\r\n            that.nav1.active = false;\r\n            that.nav2.active = true;\r\n            that.setLvPositionFunc();\r\n        }\r\n\r\n        \r\n\r\n        // 用户信息\r\n        if( cc.sys.localStorage.getItem( Win_Global.token_name ) )\r\n        {\r\n            Win_Global.token = cc.sys.localStorage.getItem( Win_Global.token_name );\r\n        }\r\n        \r\n\r\n        \r\n        cc.find('opacity',that.telLayer).on( cc.Node.EventType.TOUCH_START , function(e){\r\n           e.stopPropagation();\r\n        });\r\n\r\n\r\n        cc.find('opacity',that.menuLayer).on( cc.Node.EventType.TOUCH_START , function(e){\r\n           e.stopPropagation();\r\n           that.menuLayer.active = false;\r\n        });\r\n\r\n\r\n        // 点击音乐弹窗背景 取消\r\n        cc.find('opacity',that.adiLayer).on( cc.Node.EventType.TOUCH_START , function(e){\r\n           that.adiLayer.active = false;\r\n        });\r\n\r\n        cc.find('box',that.adiLayer).on( cc.Node.EventType.TOUCH_START , function(e){\r\n           e.stopPropagation();\r\n        });\r\n\r\n\r\n\r\n        // 背景音乐\r\n        if( cc.sys.localStorage.getItem('yiny') == '0' )\r\n        {\r\n            that.yiny = 0;\r\n            // console.log('音乐关');\r\n\r\n            that.musicAudioPause();\r\n\r\n            cc.loader.loadRes('page_img/off.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {\r\n                cc.find('box/bgadimg',that.adiLayer).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n        }\r\n        else\r\n        {   \r\n            that.yiny = 1;\r\n            // console.log('音乐开');\r\n\r\n            that.musicAudioPlay();\r\n\r\n            cc.loader.loadRes('page_img/on.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {\r\n                cc.find('box/bgadimg',that.adiLayer).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n        }\r\n\r\n\r\n        if( cc.sys.localStorage.getItem('yinx') == '0' )\r\n        {\r\n            // console.log('音效关');\r\n            that.yinx = 0;\r\n\r\n            cc.loader.loadRes('page_img/off.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {\r\n                cc.find('box/gameimg',that.adiLayer).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n        }\r\n        else\r\n        {\r\n            // console.log('音效开');\r\n            that.yinx = 1;\r\n\r\n            cc.loader.loadRes('page_img/on.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {\r\n                cc.find('box/gameimg',that.adiLayer).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n        }\r\n\r\n    },\r\n\r\n     // 切换背景音乐\r\n    toggleBgAdiFunc:function()\r\n    {   \r\n        var that = this;\r\n        // console.log('切换音乐  '+that.yiny);\r\n        \r\n        if( that.yiny != 1 )\r\n        {\r\n            that.yiny = 1;\r\n\r\n            that.musicAudioPlay();\r\n\r\n            cc.loader.loadRes('page_img/on.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {\r\n                cc.find('box/bgadimg',that.adiLayer).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n            cc.sys.localStorage.setItem('yiny','1')\r\n        }\r\n        else\r\n        {\r\n            that.yiny = 0;\r\n\r\n            that.musicAudioPause();\r\n\r\n            cc.loader.loadRes('page_img/off.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {\r\n                cc.find('box/bgadimg',that.adiLayer).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n            cc.sys.localStorage.setItem('yiny','0')\r\n        }\r\n    },\r\n    // 切换游戏音效\r\n    toggleGameAdiFunc:function()\r\n    {\r\n        var that = this;\r\n\r\n        if( that.yinx != 1 )\r\n        {\r\n            that.yinx = 1;\r\n\r\n            that.musicAudioPlay2();\r\n\r\n            cc.loader.loadRes('page_img/on.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {\r\n                cc.find('box/gameimg',that.adiLayer).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n            cc.sys.localStorage.setItem('yinx','1')\r\n        }\r\n        else\r\n        {\r\n            that.yinx = 0;\r\n           \r\n            cc.loader.loadRes('page_img/off.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {\r\n                cc.find('box/gameimg',that.adiLayer).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n            cc.sys.localStorage.setItem('yinx','0')\r\n        }\r\n    },\r\n\r\n    \r\n    // 背景音乐 开\r\n    musicAudioPlay: function () \r\n    {\r\n        this.bgAdi = cc.audioEngine.play('https://www.oneh5.com/thq/201871/mp3/m'+this.bgAdi_n+'.mp3', true , 0.8 );\r\n    },\r\n    // 背景音乐 关\r\n    musicAudioPause: function () \r\n    {\r\n        cc.audioEngine.pause(this.bgAdi);\r\n    },\r\n\r\n\r\n    musicAudioPlay2: function () \r\n    {\r\n        // this.gameAdi = cc.audioEngine.play('http://www.oneh5.com/thq/201871/mp3/pao.mp3', false , 0.1 );\r\n        this.paoAudio.play();\r\n    },\r\n    musicAudioPause2: function () \r\n    {   \r\n        if( this.paoAudio.isPlaying )\r\n        {\r\n            this.paoAudio.pause();\r\n        }\r\n    },\r\n\r\n    /************************************ nav1 启动页******************************************/\r\n\r\n    // 设置 进入页面 特效\r\n    setGoInFunc:function()\r\n    {   \r\n        var that = this;\r\n        \r\n        that.animationComFunc( cc.find('btn',that.nav1), { '0':cc.fadeIn(.5),'1':cc.moveTo(.5,0,-410) } , 500  );\r\n\r\n    },\r\n\r\n\r\n\r\n    // 进入选择模式  nav1 -> nav2\r\n   /* goChangeModu:function()\r\n    {\r\n        if( Win_Global.isScopeUserInfo == 1 )\r\n        {\r\n            this.nav1.active = false;\r\n            this.nav2.active = true;\r\n            this.setLvPositionFunc();\r\n        }\r\n    },\r\n*/\r\n\r\n    // 开始长征（选择无尽模式 nav2 -> 游戏）\r\n    startChangzhengLenFunc:function()\r\n    {\r\n        Win_Global.game_status = 1;\r\n        this.musicAudioPause();\r\n        cc.director.loadScene(\"MainGameScene\");\r\n        fsm.restart();\r\n    },\r\n\r\n\r\n    // 开始长征（选择关卡模式 nav2 -> nav3）\r\n    startChangzhengLvFunc:function()\r\n    {\r\n        this.nav2.active = false;\r\n        this.nav3.active = true;\r\n        this.setLvPositionFunc();\r\n    },\r\n\r\n\r\n\r\n\r\n    /************************************ nav3 关卡页******************************************/\r\n\r\n    // 点击规则\r\n    clcikGoToRuleFunc:function()\r\n    {\r\n        this.nav2.active = false;\r\n        this.nav7.active = true;\r\n        this.showRuleGiftInfoFunc();\r\n    },\r\n    // 点击控制声音（显示控制声音弹窗）\r\n    clickMadeAdiFunc:function()\r\n    {   \r\n        var that = this;\r\n        that.adiLayer.active = true;\r\n    },\r\n\r\n    // 设置 默认关卡坐标\r\n    setLvPositionFunc:function()\r\n    {   \r\n        var that = this;\r\n\r\n        if( Win_Global.isWx == 1 ){ wx.showLoading({title:'加载中...'}); }\r\n\r\n        // 设置 地图渐显 特选\r\n        that.animationComFunc( that.nav3.getChildByName('map') , { '0':cc.fadeIn(0.5),'1':cc.scaleTo(0.5, 1, 1) } , 800  );\r\n\r\n        var lvPositionArr = Array(\r\n                {'lv':'lv1','x':222.5,'y':-176.5},\r\n                {'lv':'lv2','x':17.8,'y':-169},\r\n                {'lv':'lv3','x':-70.8,'y':-117.8},\r\n                {'lv':'lv4','x':-216.2,'y':-165.9},\r\n                {'lv':'lv5','x':-219.7,'y':-45.6},\r\n                {'lv':'lv6','x':-184.3,'y':56.4},\r\n                {'lv':'lv7','x':-116,'y':169.8}\r\n            );\r\n\r\n        for ( var i in lvPositionArr )\r\n        {   \r\n            cc.find('map/'+lvPositionArr[i].lv,that.nav3).x = lvPositionArr[i].x;\r\n            cc.find('map/'+lvPositionArr[i].lv,that.nav3).y = lvPositionArr[i].y;\r\n            cc.find('map/'+lvPositionArr[i].lv,that.nav3).width = 35;\r\n            cc.find('map/'+lvPositionArr[i].lv,that.nav3).height = 35;\r\n        }\r\n\r\n        cc.log('我的token = '+Win_Global.token);\r\n\r\n        Win_Global.ajaxPost(\r\n            Win_Global.path+'user.php',\r\n            {\r\n                'action': 'get_userinfo',\r\n                'token': Win_Global.token,\r\n                'nickname':Win_Global.nickname,\r\n                'head_img':Win_Global.avatarUrl\r\n            },\r\n            function(res)\r\n            {\r\n                if( res.code == 1 )\r\n                {   \r\n                    // 头像回显\r\n                    cc.loader.load({url:Win_Global.avatarUrl,type:'png'},function(err, texture) {\r\n                        cc.find('head/head_icon',that.nav2).getComponent(cc.Sprite).spriteFrame =  new cc.SpriteFrame(texture);\r\n                    });\r\n\r\n                    // 战队名回显 Win_Global.nickname\r\n                    \r\n\r\n                    // 成绩回显\r\n                    that.nav2.getChildByName('score').getComponent(cc.Label).string = '战绩：'+ res.data.score + '分';\r\n\r\n                    Win_Global.myMaxLv = res.data.pass_num;\r\n\r\n                    Win_Global.mySelectLv = res.data.pass_num;\r\n\r\n                    cc.log('最大关卡： ' +res.data.pass_num);\r\n\r\n\r\n                    // 已解锁关卡\r\n                    cc.loader.loadRes('page_img/nav3-51a.png', cc.SpriteFrame, function (err, spriteFrame) \r\n                    {\r\n                        for ( var i = 1 ; i <= res.data.pass_num-1 ; i++ )\r\n                        {   \r\n                            cc.find('map/lv'+i,that.nav3).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                        }\r\n                    });\r\n\r\n\r\n                    // 未解锁关卡\r\n                    cc.loader.loadRes('page_img/suo.png', cc.SpriteFrame, function (err, spriteFrame) \r\n                    {\r\n                        for ( var i = res.data.pass_num+1 ; i <= 7 ; i++ )\r\n                        {   \r\n                            cc.find('map/lv'+i,that.nav3).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                        }\r\n                    });\r\n\r\n                    // 我当前关卡显示动效圆\r\n                    cc.loader.loadRes('page_img/nav3-51.png', cc.SpriteFrame, function (err, spriteFrame) \r\n                    {\r\n                        cc.find('map/lv' + res.data.pass_num,that.nav3).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                        cc.find('map/lv' + res.data.pass_num,that.nav3).width = 50;\r\n                        cc.find('map/lv' + res.data.pass_num,that.nav3).height = 50;\r\n                        \r\n                        cc.find('map/lv' + res.data.pass_num,that.nav3).runAction( cc.repeatForever( cc.sequence(cc.scaleTo(0.3,1.3,1.3),cc.scaleTo(0.2,1,1))) ) ;\r\n\r\n                    });\r\n\r\n                    if( Win_Global.isWx == 1 ){ wx.hideLoading(); }\r\n\r\n\r\n                    // 如果用户有电话，则存储电话\r\n                    if( res.data.tel )\r\n                    {\r\n                        cc.sys.localStorage.setItem('bkqTel',res.data.tel);\r\n                    }\r\n\r\n                }\r\n            },\r\n            function( fail ){console.log(fail);},\r\n            function( error ){console.log(error);}\r\n        );\r\n\r\n        \r\n    },\r\n\r\n\r\n    // 选择关卡\r\n    selectLvFunc:function(event, customEventData)\r\n    {   \r\n        var that = this;\r\n        var myMaxLv = Win_Global.myMaxLv;\r\n        that.pass_id = Win_Global.myMaxLv;\r\n\r\n        if( customEventData <= myMaxLv )\r\n        {\r\n            cc.log( '我的token2 = '+Win_Global.token );\r\n            that.setNanduShowFunc();\r\n            \r\n            // 记录我选择的关卡\r\n            // that.mySelectLv = customEventData;\r\n            Win_Global.mySelectLv = customEventData;\r\n\r\n            cc.loader.loadRes('page_img/nav3-51a.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {    \r\n\r\n                for( var i = 1 ; i <= myMaxLv ; i++ )\r\n                {\r\n                    cc.find('map/lv'+i,that.nav3).runAction( cc.repeatForever( cc.sequence(cc.scaleTo(1,1),cc.scaleTo(1,1))) ) ;\r\n                    cc.find('map/lv'+i,that.nav3).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                    cc.find('map/lv'+i,that.nav3).width = 35;\r\n                    cc.find('map/lv'+i,that.nav3).height = 35;\r\n                }\r\n                \r\n            });\r\n\r\n\r\n            // 显示选中按钮\r\n            cc.loader.loadRes('page_img/nav3-51.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {   \r\n                if( customEventData <= myMaxLv )\r\n                {   \r\n                    cc.find('map/lv'+customEventData,that.nav3).runAction( cc.repeatForever( cc.sequence(cc.scaleTo(0.3,1.3,1.3),cc.scaleTo(0.2,1,1))) ) ;\r\n                    cc.find('map/lv'+customEventData,that.nav3).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                    cc.find('map/lv'+customEventData,that.nav3).width = 50;\r\n                    cc.find('map/lv'+customEventData,that.nav3).height = 50;\r\n                }\r\n            });\r\n\r\n\r\n        }\r\n\r\n        else\r\n        {\r\n            Alert.show(\"当前关卡未解锁！\", null, false, 0.1);\r\n        }\r\n\r\n\r\n    },\r\n\r\n\r\n    // 选择关卡后 开始长征\r\n    /*lvBeforeStartFunc:function()\r\n    {\r\n\r\n        this.nav3.active = false;\r\n        this.nav4.active = true;\r\n\r\n        this.setNanduShowFunc();\r\n    },*/\r\n\r\n\r\n    // 排行榜\r\n    rankFunc:function()\r\n    {\r\n        this.nav2.active = false;\r\n        this.nav5.active = true;\r\n\r\n        this.showUserRankDataFunc('1');\r\n\r\n    },\r\n\r\n    // 个人中心（我的成就）\r\n    userFunc:function()\r\n    {\r\n        this.nav2.active = false;\r\n        this.nav6.active = true;\r\n        this.showUserGiftInfoFunc();\r\n    },\r\n\r\n\r\n\r\n    /************************************ nav4 选择难度******************************************/\r\n\r\n    // 设置默认 选择难度\r\n    setNanduShowFunc:function()\r\n    {\r\n        var that = this;\r\n\r\n        if( Win_Global.isWx == 1 ){ wx.showLoading({title:'加载中...'}); }\r\n\r\n        cc.log('选择关卡：'+Win_Global.mySelectLv);\r\n\r\n        that.menuLayer.active = true;\r\n\r\n\r\n        var selectNanduChildArr = cc.find('nandu',that.nav4).children;\r\n        // 恢复默认按钮\r\n        cc.loader.loadRes('page_img/btn_g.png', cc.SpriteFrame, function (err, spriteFrame)\r\n        {   \r\n            for ( var i in selectNanduChildArr )\r\n            {\r\n                selectNanduChildArr[i].getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                selectNanduChildArr[i].getChildByName('Label').color = new cc.Color(0,0,0,255);\r\n            }\r\n        });\r\n\r\n        Win_Global.ajaxPost(\r\n            Win_Global.path+'/answer.php',\r\n            {\r\n                'action': 'diff_list',\r\n                'token': Win_Global.token,\r\n                'pass_id': Win_Global.mySelectLv\r\n            },\r\n            function(res)\r\n            {\r\n                // console.log(res);\r\n                if( res.code == 1 )\r\n                {\r\n                    that.myNandu = res.diff_num;\r\n                    cc.log('最大难度：'+that.myNandu);\r\n                    // 难度回显\r\n                    for ( var i = 0 ;i < res.data.length ; i++ )\r\n                    {  \r\n                        if( res.data[i].is_lock == 0 )\r\n                        {\r\n                            cc.find('box/btn'+(i+1)+'/status',that.menuLayer).active = false;\r\n                        }\r\n                        else\r\n                        {\r\n                            cc.find('box/btn'+(i+1)+'/status',that.menuLayer).active = true;\r\n                        }\r\n                    }\r\n\r\n                    if( Win_Global.isWx == 1 ){ wx.hideLoading(); }\r\n                }\r\n            },function(fail){console.log(fail);},\r\n            function( error ){console.log(error);}\r\n        );\r\n\r\n\r\n        // 设置 人物进入 特效\r\n        // that.animationComFunc( that.nav4.getChildByName('ren') , {'0':cc.fadeIn(1),'1':cc.moveTo(.8,120,-260)} , 500  );\r\n\r\n\r\n        // 设置 字体 特效\r\n        // that.animationComFunc( that.nav4.getChildByName('zi') , {'0':cc.fadeIn(1),'1':cc.moveTo(.8,-140,-127)} , 500  );\r\n\r\n\r\n    },\r\n\r\n\r\n    // 选择难度\r\n    selectNanduFunc:function(e, data)\r\n    {   \r\n        var that = this;\r\n\r\n        // 我选择的关卡\r\n        var pass_id = Win_Global.mySelectLv;\r\n\r\n        that.diff_id = data;\r\n\r\n        var selectNanduChildArr = cc.find('nandu',that.nav4).children;\r\n\r\n        // 恢复默认按钮\r\n        cc.loader.loadRes('page_img/btn_g.png', cc.SpriteFrame, function (err, spriteFrame)\r\n        {   \r\n            for ( var i in selectNanduChildArr )\r\n            {\r\n                selectNanduChildArr[i].getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                selectNanduChildArr[i].getChildByName('Label').color = new cc.Color(0,0,0,255);\r\n            }\r\n        });\r\n\r\n        cc.loader.loadRes('page_img/btn_g21.png', cc.SpriteFrame, function (err, spriteFrame)\r\n        {   \r\n            cc.find('nandu/nd'+data,that.nav4).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            cc.find('nandu/nd'+data,that.nav4).getChildByName('Label').color = new cc.Color(181,31,36,255);\r\n        });\r\n\r\n  \r\n        cc.log('我选择的关卡：'+pass_id+'  ; 选择的难度：'+that.diff_id);\r\n        cc.log('难度：'+that.myNandu);\r\n\r\n        if( data <= that.myNandu )\r\n        {\r\n            \r\n            // 选择难度\r\n            Win_Global.ajaxPost(\r\n                Win_Global.path+'/answer.php',\r\n                {\r\n                    'action': 'answer_start',\r\n                    'token': Win_Global.token,\r\n                    'pass_id': pass_id,\r\n                    'diff_id': that.diff_id\r\n                },\r\n                function(res)\r\n                {   \r\n                   if( res.code == 1 )\r\n                   {    \r\n                        // 开始游戏前 存储用户选择的关卡及难度\r\n                        Win_Global.mySelectLv = pass_id;\r\n                        Win_Global.nandu_id = that.diff_id;\r\n\r\n                        that.nav4.active = false;\r\n                        that.nav8.active = true;\r\n\r\n                        if( Win_Global.isWx == 1 ){ wx.showLoading({title:'加载中...'}); }\r\n\r\n                        // 关卡文字描述\r\n                        cc.find('text',that.nav8).runAction( cc.fadeIn(.5) );\r\n                        that.animationComFunc( cc.find('btn',that.nav8), { '0':cc.fadeIn(.5),'1':cc.moveTo(.5,0,-310) } , 350  );  \r\n                        \r\n                        cc.loader.load({url:'https://www.oneh5.com/LJ/game71/lv_bg/lv' + pass_id + '0' + that.diff_id + '.png',type:'png'},function(err, texture) {\r\n                            that.nav8.getChildByName('top_img').getComponent(cc.Sprite).spriteFrame =  new cc.SpriteFrame(texture);\r\n                            if( Win_Global.isWx == 1 ){ wx.hideLoading(); }\r\n                        });\r\n\r\n                   }\r\n                },function(fail){console.log(fail);},\r\n                function( error ){console.log(error);}\r\n            );\r\n\r\n        }\r\n        else\r\n        {\r\n            var layerText = '';\r\n\r\n            if( that.myNandu == 1 && data == 2 )\r\n            {\r\n                layerText = '同志，你需要先通关“简单”关卡，才能解锁“一般”关卡。加油！';\r\n            }\r\n            else\r\n            {\r\n                layerText = '同志，你需要先通关“一般”关卡，才能解锁“困难”关卡。加油！';\r\n            }\r\n\r\n            Alert.show( layerText , null, false, 0.1);\r\n            \r\n        }\r\n\r\n    },\r\n\r\n\r\n\r\n    /************************************ nav5 排行榜******************************************/\r\n\r\n    // 排行榜 数据回显\r\n    showUserRankDataFunc:function(status)\r\n    {\r\n        var that = this;\r\n\r\n        this.rankDestroy();\r\n\r\n        if( Win_Global.isWx == 1 ){ wx.showLoading({title:'加载中...'}); }\r\n\r\n        var obj={};\r\n\r\n        // 排行榜1\r\n        if( status == '1' )\r\n        {\r\n            obj.action = 'one_rand';\r\n            obj.img_path_active = 'page_img/z_rka.png';\r\n            obj.img_path = 'page_img/fr_rk.png';\r\n            obj.btn_active = 'box/btn/rank1';\r\n            obj.btn = 'box/btn/rank2';\r\n        }\r\n        else\r\n        {\r\n            obj.action = 'one_rand_now';\r\n            obj.img_path_active = 'page_img/fr_rka.png';\r\n            obj.img_path = 'page_img/z_rk.png';\r\n            obj.btn_active = 'box/btn/rank2';\r\n            obj.btn = 'box/btn/rank1';\r\n        }\r\n\r\n        // 排行榜按钮切换\r\n        cc.loader.loadRes(obj.img_path_active, cc.SpriteFrame, function (err, spriteFrame) \r\n        {\r\n            cc.find(obj.btn_active,that.nav5).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n        });\r\n        cc.loader.loadRes(obj.img_path, cc.SpriteFrame, function (err, spriteFrame) \r\n        {\r\n            cc.find(obj.btn,that.nav5).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n        });\r\n\r\n\r\n        Win_Global.ajaxPost(\r\n            Win_Global.path+'/rand.php',\r\n            {\r\n                'action': obj.action,\r\n                'token': Win_Global.token\r\n            },\r\n            function(res)\r\n            {   \r\n                // console.log(res);\r\n                if( res.code == 1 )\r\n                {   \r\n                    if( res.data.rand == '' )\r\n                    {\r\n                        cc.find('box/not_data',that.nav5).active = true;\r\n                    }\r\n                    else\r\n                    {\r\n                        cc.find('box/not_data',that.nav5).active = false;\r\n                    }\r\n\r\n                    for( var i = 0 ;i < res.data.rand.length; i ++ )\r\n                    {\r\n                        var node = cc.instantiate(that.rank);\r\n\r\n                        var scene = cc.find('box/rank_box/view/content',that.nav5);\r\n\r\n                        node.setPosition(0,-105-130*i+100);\r\n                        \r\n                        node.getComponent('rankList').init({\r\n                            head_img: res.data.rand[i].head_img,\r\n                            rank_n: res.data.rand[i].rand,\r\n                            rank_name: res.data.rand[i].nickname,\r\n                            rank_cj: res.data.rand[i].score,\r\n                            rank_status: res.data.rand[i].status,\r\n                        })\r\n\r\n                        scene.addChild(node);\r\n                    }\r\n\r\n                    if( status == '1' )\r\n                    {\r\n                        that.my_rank.node.active = true;\r\n                        that.my_rank.string = '我的排名：' + res.data.my_rand;\r\n                    }\r\n                    else\r\n                    {\r\n                        that.my_rank.node.active = false;\r\n                    }\r\n                    \r\n                    // scrollView容器的高度\r\n                    cc.find('box/rank_box/view/content',that.nav5).height = (res.data.rand.length)*130-25;\r\n                    cc.find('box/rank_box/scrollBar',that.nav5).active = false;\r\n\r\n                    if( Win_Global.isWx == 1 ){ wx.hideLoading(); }\r\n                }\r\n            },function(fail){console.log(fail);},\r\n            function( error ){console.log(error);}\r\n        );\r\n\r\n    },\r\n\r\n\r\n\r\n    //去我的奖品\r\n    goToMyGiftFunc:function()\r\n    {\r\n        this.nav5.active = false;\r\n        this.nav7.active = true;\r\n        this.showRuleGiftInfoFunc();\r\n    },\r\n\r\n    /************************************ nav6 我的成就******************************************/\r\n    // 我的成就点击 贝壳券，去我的奖品\r\n    bkqGoToRuleGiftInfoFunc:function()\r\n    {\r\n        this.nav6.active = false;\r\n        this.nav7.active = true;\r\n        this.showRuleGiftInfoFunc();\r\n    },\r\n\r\n    // 个人中心成就\r\n    showUserGiftInfoFunc:function()\r\n    {\r\n        var that = this;\r\n\r\n        if( Win_Global.isWx == 1 ){ wx.showLoading({title:'加载中...'}); }\r\n\r\n        Win_Global.ajaxPost(\r\n            Win_Global.path+'/task.php?=',\r\n            {\r\n                'action': 'task_list',\r\n                'token': Win_Global.token\r\n            },\r\n            function(res)\r\n            {\r\n                // console.log(res);\r\n\r\n                if( res.code == 1 )\r\n                {   \r\n                    cc.find('top/head_box/t_name',that.nav6).getComponent(cc.Label).string = res.data.nickname;\r\n                    cc.find('top/head_box/left/num',that.nav6).getComponent(cc.Label).string = res.data.score;\r\n                    cc.find('top/head_box/right/num',that.nav6).getComponent(cc.Label).string = res.data.beike;\r\n                    if( res.data.head_img )\r\n                    {\r\n                        cc.loader.load({url:res.data.head_img,type:'png'},function(err, texture) {\r\n                            cc.find('top/head_box/head/h',that.nav6).getComponent(cc.Sprite).spriteFrame =  new cc.SpriteFrame(texture);\r\n                        });\r\n                    }\r\n\r\n\r\n                    for( var i = 0 ; i < res.data.task.length ; i++ )\r\n                    {\r\n                        var gift = cc.instantiate(that.gift);\r\n                        var scene = cc.find('main/gf_box/view/content',that.nav6);\r\n\r\n                        gift.setPosition( 70 + 120*i,-103);\r\n                        // gift.setPosition(100+150*i,-103);\r\n                   \r\n                        gift.getComponent('giftList').init({\r\n                            gf_status: res.data.task[i].status,  //1达成条件未领取 2已领取 3锁定\r\n                            gf_num: res.data.task[i].task_beike,\r\n                            gf_name: res.data.task[i].task_name,\r\n                            gf_id: res.data.task[i].id\r\n                        })\r\n\r\n                        scene.addChild(gift);\r\n                    }   \r\n\r\n                    cc.find('main/gf_box/view/content',that.nav6).width = res.data.task.length*120 + 60;\r\n\r\n                    if( Win_Global.isWx == 1 ){ wx.hideLoading(); }\r\n                }\r\n            },function(fail){console.log(fail);},\r\n            function( error ){console.log(error);}\r\n        );\r\n    },\r\n\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    /************************************ nav7 我的个人中心（贝壳券）******************************************/\r\n    // 规则\r\n    // 用户奖品回显\r\n    showRuleGiftInfoFunc:function()\r\n    {\r\n        var that = this;\r\n        // console.log('规则');\r\n        if( Win_Global.isWx == 1 ){ wx.showLoading({title:'加载中...'}); }\r\n\r\n        // 查询用户中奖详情\r\n        Win_Global.ajaxPost(\r\n            Win_Global.path+'/rand.php',\r\n            {\r\n                'action': 'week_prize',\r\n                'token': Win_Global.token\r\n            },\r\n            function(res)\r\n            {   \r\n                // console.log('奖品回显');\r\n                // console.log(res);\r\n                \r\n                if( res.code == 1 )\r\n                {   \r\n                    // 有奖\r\n                    if( res.data.one.prize > 0 || res.data.friends.prize > 0) \r\n                    {   \r\n\r\n                        cc.find('box/view/content/bkq_box',that.nav7).active = true;\r\n                        cc.find('box/view/content/bkq_none',that.nav7).active = false;\r\n\r\n                        if( res.data.one.prize > 0 && res.data.friends.prize > 0 )\r\n                        {\r\n                            cc.find('box/view/content/rule',that.nav7).y = -1050;\r\n                        }\r\n                        else\r\n                        {\r\n                            cc.find('box/view/content/rule',that.nav7).y = -780;\r\n                        }\r\n\r\n\r\n                        if( res.data.friends.prize > 0 && res.data.one.prize <= 0 )\r\n                        {\r\n                            cc.find('box/view/content/bkq_box/bkq_friend/',that.nav7).y = 300;\r\n                        }\r\n\r\n\r\n                        // 总榜\r\n                        if( res.data.one.prize > 0 )\r\n                        {\r\n                            cc.find('box/view/content/bkq_box/bkq_user',that.nav7).active = true;\r\n                            that.isGiveRankBkq = res.data.one.status;\r\n                            if( that.isGiveRankBkq == 1 )\r\n                            {\r\n                                cc.loader.loadRes('page_img/lingq2.png', cc.SpriteFrame, function (err, spriteFrame) \r\n                                {\r\n                                    cc.find('box/view/content/bkq_box/bkq_user/btn',that.nav7).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                                });\r\n                            }\r\n                            cc.find('box/view/content/bkq_box/bkq_user/text',that.nav7).getComponent(cc.Label).string = '总榜No.'+res.data.one.rand;\r\n                            cc.find('box/view/content/bkq_box/bkq_user/bkq_num',that.nav7).getComponent(cc.Label).string = res.data.one.prize + '贝壳券';\r\n                        }\r\n\r\n                        // 好友榜\r\n                        if( res.data.friends.prize > 0 )\r\n                        {\r\n                            cc.find('box/view/content/bkq_box/bkq_friend',that.nav7).active = true;\r\n                            that.isGiveRankBkq_friend = res.data.friends.status;\r\n                            if( that.isGiveRankBkq_friend == 1 )\r\n                            {\r\n                                cc.loader.loadRes('page_img/lingq2.png', cc.SpriteFrame, function (err, spriteFrame) \r\n                                {\r\n                                    cc.find('box/view/content/bkq_box/bkq_friend/btn',that.nav7).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n                                });\r\n                            }\r\n                            cc.find('box/view/content/bkq_box/bkq_friend/text',that.nav7).getComponent(cc.Label).string = '好友榜No.'+res.data.friends.rand;\r\n                            cc.find('box/view/content/bkq_box/bkq_friend/bkq_num',that.nav7).getComponent(cc.Label).string = res.data.friends.prize + '贝壳券';\r\n                        }\r\n                    }\r\n                    // 无奖品\r\n                    else\r\n                    {\r\n                        cc.find('box/view/content/bkq_none',that.nav7).active = true;\r\n                        cc.find('box/view/content/bkq_box',that.nav7).active = false;\r\n\r\n                        cc.find('box/view/content/rule',that.nav7).y = -650;\r\n                    }\r\n\r\n                    if( Win_Global.isWx == 1 ){ wx.hideLoading(); }\r\n                }\r\n\r\n            },function(fail){console.log(fail)},\r\n            function( error ){console.log(error);}\r\n        );\r\n\r\n    },\r\n\r\n    // 领取贝壳券\r\n    giveBkqFunc:function(e,data)\r\n    {\r\n        cc.log('点击领取排行榜贝壳券');\r\n        var that = this;\r\n        var btn_status = '';\r\n\r\n        if( (that.isGiveRankBkq == 1 && data == 1) || (that.isGiveRankBkq_friend == 1 && data == 3) )\r\n        {   \r\n            if( that.isGiveRankBkq == 1 )\r\n            {\r\n                btn_status = 'box/view/content/bkq_box/bkq_user/btn';\r\n            }\r\n            \r\n            if( that.isGiveRankBkq_friend == 1 )\r\n            {\r\n                btn_status = 'box/view/content/bkq_box/bkq_friend/btn';\r\n            }\r\n\r\n            cc.loader.loadRes('page_img/lingq2.png', cc.SpriteFrame, function (err, spriteFrame) \r\n            {\r\n                cc.find( btn_status,that.nav7).getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n            });\r\n            Alert.show(\"你已经领取过了哦\", null, false, 0.1);\r\n            \r\n        }\r\n        else\r\n        {\r\n            Win_Global.ajaxPost(\r\n                Win_Global.path+'/rand.php',\r\n                {\r\n                    'action': 'get_week_prize',\r\n                    'token': Win_Global.token,\r\n                    'id': data,\r\n                    'stime': Date.parse( new Date() ).toString().substr(0,10)\r\n                },\r\n                function(res)\r\n                {   \r\n                    // console.log(res);\r\n                    if( res.code == 1 )\r\n                    {\r\n                        Alert.show('成功领取'+res.data.prize+'贝壳券', null, false, 0.1);\r\n                    }\r\n                    // 绑定手机号码\r\n                    else if( res.code == 9004 )     //9004\r\n                    {  \r\n                        cc.log('绑定手机号码');\r\n                        that.telLayer.active = true;\r\n                    }\r\n                    // 已领取\r\n                    else if( res.code == 9002 )     //9002\r\n                    {\r\n                        Alert.show(\"你已经领取过了哦\", null, false, 0.1);\r\n                    }\r\n                },function(fail){console.log(fail)},\r\n                function( error ){console.log(error);}\r\n            )\r\n        }\r\n\r\n    },\r\n    // 获取验证码\r\n    getCodeFunc:function()\r\n    {\r\n    \tvar that = this;\r\n    \tvar tel = cc.find('box/input',that.telLayer).getComponent(cc.EditBox).string || 'null';\r\n    \tvar codeBtnLabel = cc.find('box/codeBtn/Label',that.telLayer);\r\n\r\n    \tWin_Global.get_code(tel,codeBtnLabel);\r\n    },\r\n\r\n    // 绑定手机号\r\n    submitTelFunc:function()\r\n    {\r\n        var that = this;\r\n        var tel = cc.find('box/input',that.telLayer).getComponent(cc.EditBox).string || 'null';\r\n        var telLayer = that.telLayer;\r\n        var code = cc.find('box/code',that.telLayer).getComponent(cc.EditBox).string || 'null';\r\n\r\n        Win_Global.bind_tel(tel,telLayer,code);\r\n    },\r\n\r\n\r\n\r\n\r\n    /************************************ nav8 ******************************************/\r\n\r\n    // 进入游戏场景\r\n    goToGameFunc:function()\r\n    {   \r\n        Win_Global.game_status = 0;\r\n        this.musicAudioPause();\r\n        cc.director.loadScene(\"MainGameScene\");\r\n        fsm.restart();\r\n    },\r\n\r\n\r\n    /************************************ com ******************************************/\r\n\r\n    // 返回主页\r\n    callbackFunc:function(e,data)\r\n    {   \r\n        var that = this;\r\n\r\n        // 排行榜 销毁克隆\r\n        if( data == 5 )\r\n        {\r\n            this.rankDestroy();\r\n        }\r\n\r\n        if( data == 8 )\r\n        {\r\n            this.nav2.active = false;\r\n            this.nav3.active = true;\r\n        }\r\n        else\r\n        {\r\n            this.nav2.active = true;\r\n            this.nav3.active = false;\r\n        }\r\n\r\n        this.nav1.active = false;\r\n\r\n        this.nav4.active = false;\r\n        this.nav5.active = false;\r\n        this.nav6.active = false;\r\n        this.nav7.active = false;\r\n        this.nav8.active = false;\r\n\r\n        this.setLvPositionFunc();\r\n        // this.selectLvFunc( '',Win_Global.myMaxLv );\r\n    },\r\n\r\n\r\n    // 排行榜销毁克隆\r\n    rankDestroy:function()\r\n    {\r\n        var rank_arr = cc.find('box/rank_box/view/content',this.nav5).children;\r\n        for ( var i in rank_arr )\r\n        {\r\n            rank_arr[i].destroy();\r\n        }\r\n    },\r\n\r\n\r\n\r\n    // 特效\r\n    animationComFunc:function(node,spawn,time)\r\n    {   \r\n        setTimeout(function(){\r\n            node.runAction( cc.spawn( spawn[0], spawn[1] ) );\r\n        },time)\r\n    },\r\n\r\n\r\n\r\n});\r\n\r\n\r\n\r\nvar page = new pageF();\r\n\r\n\r\nmodule.exports = page;\r\n"]}