{"version":3,"sources":["state-machine.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","target","sources","source","key","arguments","length","mixin","build","config","max","plugin","plugins","methods","properties","defineProperties","hook","fsm","additional","method","args","context","concat","apply","label","word","words","split","result","charAt","toUpperCase","substring","camelize","Config","options","StateMachine","defaults","states","transitions","map","lifecycle","configureLifecycle","init","configureInitTransition","data","configureData","configureMethods","wildcard","configureTransitions","configurePlugins","addState","push","addStateLifecycleNames","onEnter","onLeave","on","addTransition","indexOf","addTransitionLifecycleNames","onBefore","onAfter","mapTransition","transition","from","to","state","active","builtin","configure","Array","isArray","transitionFor","transitionsFor","keys","allStates","allTransitions","Exception","UNOBSERVED","JSM","observers","fire","is","isPending","pending","can","seek","cannot","entry","transit","changed","observeUnchangedState","onInvalidTransition","onPendingTransition","beginTransit","unshift","observeEvents","observersForEvent","endTransit","doTransit","observe","observer","event","events","previousEvent","pluggable","shift","then","bind","catch","message","current","PublicMethods","_fsm","t","PublicProperties","set","Error","cstor","instance","forEach","slice","version"],"mappings":"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","file":"state-machine.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\StickHero\\Scripts","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"StateMachine\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"StateMachine\"] = factory();\n\telse\n\t\troot[\"StateMachine\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function(target, sources) {\n  var n, source, key;\n  for(n = 1 ; n < arguments.length ; n++) {\n    source = arguments[n];\n    for(key in source) {\n      if (source.hasOwnProperty(key))\n        target[key] = source[key];\n    }\n  }\n  return target;\n}\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//-------------------------------------------------------------------------------------------------\n\nvar mixin = __webpack_require__(0);\n\n//-------------------------------------------------------------------------------------------------\n\nmodule.exports = {\n\n  build: function(target, config) {\n    var n, max, plugin, plugins = config.plugins;\n    for(n = 0, max = plugins.length ; n < max ; n++) {\n      plugin = plugins[n];\n      if (plugin.methods)\n        mixin(target, plugin.methods);\n      if (plugin.properties)\n        Object.defineProperties(target, plugin.properties);\n    }\n  },\n\n  hook: function(fsm, name, additional) {\n    var n, max, method, plugin,\n        plugins = fsm.config.plugins,\n        args    = [fsm.context];\n\n    if (additional)\n      args = args.concat(additional)\n\n    for(n = 0, max = plugins.length ; n < max ; n++) {\n      plugin = plugins[n]\n      method = plugins[n][name]\n      if (method)\n        method.apply(plugin, args);\n    }\n  }\n\n}\n\n//-------------------------------------------------------------------------------------------------\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function(label) {\n  var n, word, words = label.split(/[_-]/), result = words[0];\n  for(n = 1 ; n < words.length ; n++) {\n    result = result + words[n].charAt(0).toUpperCase() + words[n].substring(1);\n  }\n  return result;\n}\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//-------------------------------------------------------------------------------------------------\n\nvar mixin    = __webpack_require__(0),\n    camelize = __webpack_require__(2);\n\n//-------------------------------------------------------------------------------------------------\n\nfunction Config(options, StateMachine) {\n\n  options = options || {};\n\n  this.options     = options; // preserving original options can be useful (e.g visualize plugin)\n  this.defaults    = StateMachine.defaults;\n  this.states      = [];\n  this.transitions = [];\n  this.map         = {};\n  this.lifecycle   = this.configureLifecycle();\n  this.init        = this.configureInitTransition(options.init);\n  this.data        = this.configureData(options.data);\n  this.methods     = this.configureMethods(options.methods);\n\n  this.map[this.defaults.wildcard] = {};\n\n  this.configureTransitions(options.transitions || []);\n\n  this.plugins = this.configurePlugins(options.plugins, StateMachine.plugin);\n\n}\n\n//-------------------------------------------------------------------------------------------------\n\nmixin(Config.prototype, {\n\n  addState: function(name) {\n    if (!this.map[name]) {\n      this.states.push(name);\n      this.addStateLifecycleNames(name);\n      this.map[name] = {};\n    }\n  },\n\n  addStateLifecycleNames: function(name) {\n    this.lifecycle.onEnter[name] = camelize('on-enter-' + name);\n    this.lifecycle.onLeave[name] = camelize('on-leave-' + name);\n    this.lifecycle.on[name]      = camelize('on-' + name);\n  },\n\n  addTransition: function(name) {\n    if (this.transitions.indexOf(name) < 0) {\n      this.transitions.push(name);\n      this.addTransitionLifecycleNames(name);\n    }\n  },\n\n  addTransitionLifecycleNames: function(name) {\n    this.lifecycle.onBefore[name] = camelize('on-before-' + name);\n    this.lifecycle.onAfter[name]  = camelize('on-after-' + name);\n    this.lifecycle.on[name]       = camelize('on-' + name);\n  },\n\n  mapTransition: function(transition) {\n    var name = transition.name,\n        from = transition.from,\n        to   = transition.to;\n    this.addState(from);\n    if (typeof to !== 'function')\n      this.addState(to);\n    this.addTransition(name);\n    this.map[from][name] = transition;\n    return transition;\n  },\n\n  configureLifecycle: function() {\n    return {\n      onBefore: { transition: camelize('on-before-transition') },\n      onAfter:  { transition: camelize('on-after-transition')  },\n      onEnter:  { state:      camelize('on-enter-state')       },\n      onLeave:  { state:      camelize('on-leave-state')       },\n      on:       { transition: camelize('on-transition')        }\n    };\n  },\n\n  configureInitTransition: function(init) {\n    if (typeof init === 'string') {\n      return this.mapTransition(mixin({}, this.defaults.init, { to: init, active: true }));\n    }\n    else if (typeof init === 'object') {\n      return this.mapTransition(mixin({}, this.defaults.init, init, { active: true }));\n    }\n    else {\n      this.addState(this.defaults.init.from);\n      return this.defaults.init;\n    }\n  },\n\n  configureData: function(data) {\n    if (typeof data === 'function')\n      return data;\n    else if (typeof data === 'object')\n      return function() { return data; }\n    else\n      return function() { return {};  }\n  },\n\n  configureMethods: function(methods) {\n    return methods || {};\n  },\n\n  configurePlugins: function(plugins, builtin) {\n    plugins = plugins || [];\n    var n, max, plugin;\n    for(n = 0, max = plugins.length ; n < max ; n++) {\n      plugin = plugins[n];\n      if (typeof plugin === 'function')\n        plugins[n] = plugin = plugin()\n      if (plugin.configure)\n        plugin.configure(this);\n    }\n    return plugins\n  },\n\n  configureTransitions: function(transitions) {\n    var i, n, transition, from, to, wildcard = this.defaults.wildcard;\n    for(n = 0 ; n < transitions.length ; n++) {\n      transition = transitions[n];\n      from  = Array.isArray(transition.from) ? transition.from : [transition.from || wildcard]\n      to    = transition.to || wildcard;\n      for(i = 0 ; i < from.length ; i++) {\n        this.mapTransition({ name: transition.name, from: from[i], to: to });\n      }\n    }\n  },\n\n  transitionFor: function(state, transition) {\n    var wildcard = this.defaults.wildcard;\n    return this.map[state][transition] ||\n           this.map[wildcard][transition];\n  },\n\n  transitionsFor: function(state) {\n    var wildcard = this.defaults.wildcard;\n    return Object.keys(this.map[state]).concat(Object.keys(this.map[wildcard]));\n  },\n\n  allStates: function() {\n    return this.states;\n  },\n\n  allTransitions: function() {\n    return this.transitions;\n  }\n\n});\n\n//-------------------------------------------------------------------------------------------------\n\nmodule.exports = Config;\n\n//-------------------------------------------------------------------------------------------------\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\nvar mixin      = __webpack_require__(0),\n    Exception  = __webpack_require__(5),\n    plugin     = __webpack_require__(1),\n    UNOBSERVED = [ null, [] ];\n\n//-------------------------------------------------------------------------------------------------\n\nfunction JSM(context, config) {\n  this.context   = context;\n  this.config    = config;\n  this.state     = config.init.from;\n  this.observers = [context];\n}\n\n//-------------------------------------------------------------------------------------------------\n\nmixin(JSM.prototype, {\n\n  init: function(args) {\n    mixin(this.context, this.config.data.apply(this.context, args));\n    plugin.hook(this, 'init');\n    if (this.config.init.active)\n      return this.fire(this.config.init.name, []);\n  },\n\n  is: function(state) {\n    return Array.isArray(state) ? (state.indexOf(this.state) >= 0) : (this.state === state);\n  },\n\n  isPending: function() {\n    return this.pending;\n  },\n\n  can: function(transition) {\n    return !this.isPending() && !!this.seek(transition);\n  },\n\n  cannot: function(transition) {\n    return !this.can(transition);\n  },\n\n  allStates: function() {\n    return this.config.allStates();\n  },\n\n  allTransitions: function() {\n    return this.config.allTransitions();\n  },\n\n  transitions: function() {\n    return this.config.transitionsFor(this.state);\n  },\n\n  seek: function(transition, args) {\n    var wildcard = this.config.defaults.wildcard,\n        entry    = this.config.transitionFor(this.state, transition),\n        to       = entry && entry.to;\n    if (typeof to === 'function')\n      return to.apply(this.context, args);\n    else if (to === wildcard)\n      return this.state\n    else\n      return to\n  },\n\n  fire: function(transition, args) {\n    return this.transit(transition, this.state, this.seek(transition, args), args);\n  },\n\n  transit: function(transition, from, to, args) {\n\n    var lifecycle = this.config.lifecycle,\n        changed   = this.config.options.observeUnchangedState || (from !== to);\n\n    if (!to)\n      return this.context.onInvalidTransition(transition, from, to);\n\n    if (this.isPending())\n      return this.context.onPendingTransition(transition, from, to);\n\n    this.config.addState(to);  // might need to add this state if it's unknown (e.g. conditional transition or goto)\n\n    this.beginTransit();\n\n    args.unshift({             // this context will be passed to each lifecycle event observer\n      transition: transition,\n      from:       from,\n      to:         to,\n      fsm:        this.context\n    });\n\n    return this.observeEvents([\n                this.observersForEvent(lifecycle.onBefore.transition),\n                this.observersForEvent(lifecycle.onBefore[transition]),\n      changed ? this.observersForEvent(lifecycle.onLeave.state) : UNOBSERVED,\n      changed ? this.observersForEvent(lifecycle.onLeave[from]) : UNOBSERVED,\n                this.observersForEvent(lifecycle.on.transition),\n      changed ? [ 'doTransit', [ this ] ]                       : UNOBSERVED,\n      changed ? this.observersForEvent(lifecycle.onEnter.state) : UNOBSERVED,\n      changed ? this.observersForEvent(lifecycle.onEnter[to])   : UNOBSERVED,\n      changed ? this.observersForEvent(lifecycle.on[to])        : UNOBSERVED,\n                this.observersForEvent(lifecycle.onAfter.transition),\n                this.observersForEvent(lifecycle.onAfter[transition]),\n                this.observersForEvent(lifecycle.on[transition])\n    ], args);\n  },\n\n  beginTransit: function()          { this.pending = true;                 },\n  endTransit:   function(result)    { this.pending = false; return result; },\n  doTransit:    function(lifecycle) { this.state = lifecycle.to;           },\n\n  observe: function(args) {\n    if (args.length === 2) {\n      var observer = {};\n      observer[args[0]] = args[1];\n      this.observers.push(observer);\n    }\n    else {\n      this.observers.push(args[0]);\n    }\n  },\n\n  observersForEvent: function(event) { // TODO: this could be cached\n    var n = 0, max = this.observers.length, observer, result = [];\n    for( ; n < max ; n++) {\n      observer = this.observers[n];\n      if (observer[event])\n        result.push(observer);\n    }\n    return [ event, result, true ]\n  },\n\n  observeEvents: function(events, args, previousEvent) {\n    if (events.length === 0) {\n      return this.endTransit(true);\n    }\n\n    var event     = events[0][0],\n        observers = events[0][1],\n        pluggable = events[0][2];\n\n    args[0].event = event;\n    if (event && pluggable && event !== previousEvent)\n      plugin.hook(this, 'lifecycle', args);\n\n    if (observers.length === 0) {\n      events.shift();\n      return this.observeEvents(events, args, event);\n    }\n    else {\n      var observer = observers.shift(),\n          result = observer[event].apply(observer, args);\n      if (result && typeof result.then === 'function') {\n        return result.then(this.observeEvents.bind(this, events, args, event))\n                     .catch(this.endTransit.bind(this))\n      }\n      else if (result === false) {\n        return this.endTransit(false);\n      }\n      else {\n        return this.observeEvents(events, args, event);\n      }\n    }\n  },\n\n  onInvalidTransition: function(transition, from, to) {\n    // throw new Exception(\"transition is invalid in current state\", transition, from, to, this.state);\n  },\n\n  onPendingTransition: function(transition, from, to) {\n    throw new Exception(\"transition is invalid while previous transition is still in progress\", transition, from, to, this.state);\n  }\n\n});\n\n//-------------------------------------------------------------------------------------------------\n\nmodule.exports = JSM;\n\n//-------------------------------------------------------------------------------------------------\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function(message, transition, from, to, current) {\n  this.message    = message;\n  this.transition = transition;\n  this.from       = from;\n  this.to         = to;\n  this.current    = current;\n}\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//-----------------------------------------------------------------------------------------------\n\nvar mixin    = __webpack_require__(0),\n    camelize = __webpack_require__(2),\n    plugin   = __webpack_require__(1),\n    Config   = __webpack_require__(3),\n    JSM      = __webpack_require__(4);\n\n//-----------------------------------------------------------------------------------------------\n\nvar PublicMethods = {\n  is:                  function(state)       { return this._fsm.is(state)                                     },\n  can:                 function(transition)  { return this._fsm.can(transition)                               },\n  cannot:              function(transition)  { return this._fsm.cannot(transition)                            },\n  observe:             function()            { return this._fsm.observe(arguments)                            },\n  transitions:         function()            { return this._fsm.transitions()                                 },\n  allTransitions:      function()            { return this._fsm.allTransitions()                              },\n  allStates:           function()            { return this._fsm.allStates()                                   },\n  onInvalidTransition: function(t, from, to) { return this._fsm.onInvalidTransition(t, from, to)              },\n  onPendingTransition: function(t, from, to) { return this._fsm.onPendingTransition(t, from, to)              },\n}\n\nvar PublicProperties = {\n  state: {\n    configurable: false,\n    enumerable:   true,\n    get: function() {\n      return this._fsm.state;\n    },\n    set: function(state) {\n      throw Error('use transitions to change state')\n    }\n  }\n}\n\n//-----------------------------------------------------------------------------------------------\n\nfunction StateMachine(options) {\n  return apply(this || {}, options);\n}\n\nfunction factory() {\n  var cstor, options;\n  if (typeof arguments[0] === 'function') {\n    cstor   = arguments[0];\n    options = arguments[1] || {};\n  }\n  else {\n    cstor   = function() { this._fsm.apply(this, arguments) };\n    options = arguments[0] || {};\n  }\n  var config = new Config(options, StateMachine);\n  build(cstor.prototype, config);\n  cstor.prototype._fsm.config = config; // convenience access to shared config without needing an instance\n  return cstor;\n}\n\n//-------------------------------------------------------------------------------------------------\n\nfunction apply(instance, options) {\n  var config = new Config(options, StateMachine);\n  build(instance, config);\n  instance._fsm();\n  return instance;\n}\n\nfunction build(target, config) {\n  if ((typeof target !== 'object') || Array.isArray(target))\n    throw Error('StateMachine can only be applied to objects');\n  plugin.build(target, config);\n  Object.defineProperties(target, PublicProperties);\n  mixin(target, PublicMethods);\n  mixin(target, config.methods);\n  config.allTransitions().forEach(function(transition) {\n    target[camelize(transition)] = function() {\n      return this._fsm.fire(transition, [].slice.call(arguments))\n    }\n  });\n  target._fsm = function() {\n    this._fsm = new JSM(this, config);\n    this._fsm.init(arguments);\n  }\n}\n\n//-----------------------------------------------------------------------------------------------\n\nStateMachine.version  = '3.0.0-rc.1';\nStateMachine.factory  = factory;\nStateMachine.apply    = apply;\nStateMachine.defaults = {\n  wildcard: '*',\n  init: {\n    name: 'init',\n    from: 'none'\n  }\n}\n\n//===============================================================================================\n\nmodule.exports = StateMachine;\n\n\n/***/ }\n/******/ ]);\n});"]}